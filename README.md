# ğŸ“ Inkmaid

> âš ï¸ **ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’åœæ­¢ã—ã¦ã„ã¾ã™**
> æ–°æ©Ÿèƒ½ã®è¿½åŠ ã‚„ä¾å­˜é–¢ä¿‚ã®æ›´æ–°ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚ç¾çŠ¶ã®ã¾ã¾åˆ©ç”¨å¯èƒ½ã§ã™ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚‚å«ã‚ä»Šå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¯äºˆå®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

**æ‰‹æ›¸ãã¨AIã§ç›´æ„Ÿçš„ã«å›³è§£ã™ã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **

ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã®ã€Œæ‰‹æ›¸ãã€ã¨ã„ã†ç›´æ„Ÿçš„ãªå…¥åŠ›ã¨ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹ã€Œè«–ç†çš„ãªæ§‹é€ æ“ä½œã€ã‚’èåˆã•ã›ã€å°‚é–€çŸ¥è­˜ãŒãªãã¦ã‚‚é«˜åº¦ãªMermaidå›³ã‚’å³åº§ã«ä½œæˆãƒ»ç·¨é›†ãƒ»ç®¡ç†ã§ãã‚‹ç’°å¢ƒã‚’æä¾›ã—ã¾ã™ã€‚

---

## âœ¨ ä¸»ãªæ©Ÿèƒ½

### ğŸ¨ æ‰‹æ›¸ã â†’ Mermaid å¤‰æ›

ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æ‰‹æ›¸ãã§æã„ãŸå›³å½¢ã‚’AIãŒè§£é‡ˆã—ã€Mermaidã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã—ã¾ã™ã€‚

- å››è§’å½¢ â†’ ãƒãƒ¼ãƒ‰ï¼ˆå‡¦ç†ãƒ–ãƒ­ãƒƒã‚¯ï¼‰
- ã²ã—å½¢ â†’ æ¡ä»¶åˆ†å²
- çŸ¢å° â†’ ãƒãƒ¼ãƒ‰é–“ã®æ¥ç¶š
- **Xå°** â†’ ãƒãƒ¼ãƒ‰ã®å‰Šé™¤ï¼ˆã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼èªè­˜ï¼‰

### ğŸ“Š å¯¾å¿œã™ã‚‹ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ 

| ç¨®é¡ | èª¬æ˜ |
|------|------|
| ğŸ”€ ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ | å‡¦ç†ã®æµã‚Œã‚’è¡¨ç¾ |
| â†”ï¸ ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®ã‚„ã‚Šå–ã‚Š |
| ğŸ“¦ ã‚¯ãƒ©ã‚¹å›³ | ã‚¯ãƒ©ã‚¹ã®æ§‹é€ ã¨é–¢ä¿‚ |
| ğŸ”„ çŠ¶æ…‹é·ç§»å›³ | çŠ¶æ…‹ã®å¤‰åŒ–ã‚’è¡¨ç¾ |
| ğŸ—„ï¸ ERå›³ | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ |

### ğŸ¤– AIã«ã‚ˆã‚‹é«˜ç²¾åº¦èªè­˜

- **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œ**: æ‰‹æ›¸ãæ–‡å­—ã‚’ç”»åƒã¨ã—ã¦èªè­˜
- **è¤‡æ•°AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ**: OpenAI / Google / Anthropic
- **Mermaidã‚¨ãƒ©ãƒ¼è‡ªå‹•ä¿®æ­£**: æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’AIãŒè‡ªå‹•ã§ä¿®æ­£

### ğŸ’¾ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

ã™ã¹ã¦ã®ç·¨é›†å±¥æ­´ã‚’ä¿å­˜ã—ã€ã„ã¤ã§ã‚‚éå»ã®çŠ¶æ…‹ã«æˆ»ã‚Œã¾ã™ã€‚

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- **Node.js** >= 20.0.0
- **pnpm** >= 9.15.1
- **Docker** & **Docker Compose**

```bash
# pnpmãŒãªã„å ´åˆã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
corepack enable && corepack prepare pnpm@9.15.1 --activate
```

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd inkmaid

# 2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# 3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
pnpm setup:default
# ã¾ãŸã¯æ‰‹å‹•ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:
# cp env.example .env
# cp apps/web/env.local.example apps/web/.env.local

# apps/web/.env.local ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š
# ANTHROPIC_API_KEY=sk-ant-xxxxx

# 4. é–‹ç™ºç’°å¢ƒã‚’èµ·å‹•ï¼ˆDB + Next.jsï¼‰
pnpm dev:all
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ãã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

> **Note**: Cursor AI ã®ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€`.npmrc.example` ã‚’ `.npmrc` ã«ã‚³ãƒ”ãƒ¼ã—ã¦è¨­å®šãŒå¿…è¦ã§ã™ã€‚

---

## ğŸ”§ ç’°å¢ƒå¤‰æ•°

### apps/web/.env.local

```bash
# å¿…é ˆ: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
DATABASE_URL="postgresql://inkmaid:inkmaid_password@localhost:5432/inkmaid"

# AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®šï¼ˆ"openai" | "google" | "anthropic"ï¼‰
AI_PROVIDER=anthropic

# ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIã‚­ãƒ¼ã‚’è¨­å®š
ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# GOOGLE_GENERATIVE_AI_API_KEY=...
```

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|---------|------|
| **Framework** | Next.js 15 (App Router) |
| **Language** | TypeScript 5 |
| **Styling** | Tailwind CSS 4 |
| **API** | tRPC |
| **Database** | PostgreSQL 16 + Drizzle ORM |
| **AI** | Vercel AI SDK |
| **Canvas** | Konva.js |
| **Diagram** | Mermaid.js |
| **Linter** | Biome |
| **Testing** | Vitest |
| **Container** | Docker Compose |

---

## ğŸ“‹ ä¸»ãªã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `pnpm dev:all` | DBèµ·å‹• â†’ Next.jsèµ·å‹•ï¼ˆæ¨å¥¨ï¼‰ |
| `pnpm build` | ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ |
| `pnpm db:push` | ã‚¹ã‚­ãƒ¼ãƒã‚’DBã«åæ˜  |
| `pnpm db:studio` | Drizzle Studioï¼ˆDB GUIï¼‰ã‚’èµ·å‹• |
| `pnpm lint:fix` | Lintå•é¡Œã‚’è‡ªå‹•ä¿®æ­£ |
| `pnpm test` | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |

è©³ç´°ã¯ [é–‹ç™ºã‚¬ã‚¤ãƒ‰](./doc/development-guide.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./doc/develop.md) | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨­è¨ˆæ€æƒ³ |
| [é–‹ç™ºã‚¬ã‚¤ãƒ‰](./doc/development-guide.md) | é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ |
| [APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](./doc/api-reference.md) | tRPCã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè©³ç´° |
| [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](./doc/troubleshooting.md) | ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³• |
| [ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ›´æ–°æˆ¦ç•¥](./doc/library-update-strategy.md) | Renovateã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚ç®¡ç† |
| [é–‹ç™ºãƒ­ã‚°](./doc/logs/) | æ—¥ã€…ã®é–‹ç™ºè¨˜éŒ² |

---

## ğŸ—ºï¸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºç›¤æ§‹ç¯‰ âœ…

- [x] pnpm ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] Docker + PostgreSQL ç’°å¢ƒ
- [x] Drizzle ORM ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
- [x] tRPC API åŸºç›¤

### Phase 2: ã‚³ã‚¢æ©Ÿèƒ½ã®å®Ÿè£… âœ…

- [x] æ‰‹æ›¸ãCanvasï¼ˆKonva.jsï¼‰ã¨Mermaidæç”»ã®çµ±åˆ
- [x] Vercel AI SDK ã«ã‚ˆã‚‹AIé€£æº
- [x] æ‰‹æ›¸ãã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‹ã‚‰Mermaidå¤‰æ›
- [x] ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œï¼ˆæ‰‹æ›¸ãæ–‡å­—èªè­˜ï¼‰
- [x] è¤‡æ•°AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ

### Phase 3: é«˜åº¦ãªç·¨é›†ã¨æœ€é©åŒ–ï¼ˆé€²è¡Œä¸­ï¼‰

- [x] æ‰‹æ›¸ãã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼èªè­˜ï¼ˆXå°ã§å‰Šé™¤ãªã©ï¼‰
- [x] 5ç¨®é¡ã®Mermaidå›³ã«å¯¾å¿œ
- [ ] AIæ€è€ƒãƒ­ã‚°ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½ï¼ˆå‰Šé™¤ãƒ»åå‰å¤‰æ›´ï¼‰
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ã®ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ™ãƒ«UI

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/amazing-feature`
2. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m 'Add amazing feature'`
3. ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/amazing-feature`
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](./LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
