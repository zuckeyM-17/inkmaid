# ========================================
# ⚠️ このワークフローは無効化されています
# メンテナンス停止のため、トリガーをコメントアウトしています
# ========================================

# Renovate Bot - 依存関係の自動アップデート
#
# このワークフローはRenovateをself-hostedで実行します。
#
# 必要なシークレット:
#   RENOVATE_TOKEN: GitHubのPersonal Access Token (PAT)
#     - 必要な権限: repo, workflow, read:org (privateリポジトリの場合)
#     - Settings > Developer settings > Personal access tokens で作成
#
# 参考: https://docs.renovatebot.com/self-hosted-configuration/

name: Renovate (Disabled)

# on:
#   # 定期実行: 毎日 9:00 JST (0:00 UTC)
#   schedule:
#     - cron: '0 0 * * *'
#   # 手動実行
#   workflow_dispatch:
#     inputs:
#       dry_run:
#         description: 'Dry run (変更を実際には行わない)'
#         required: false
#         default: 'false'
#         type: choice
#         options:
#           - 'true'
#           - 'false'
#       log_level:
#         description: 'ログレベル'
#         required: false
#         default: 'info'
#         type: choice
#         options:
#           - 'debug'
#           - 'info'
#           - 'warn'
#           - 'error'

# 同時実行を防止
concurrency:
  group: renovate
  cancel-in-progress: false

jobs:
  renovate:
    runs-on: ubuntu-latest
    timeout-minutes: 30

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Run Renovate
        uses: renovatebot/github-action@v42.0.0
        with:
          configurationFile: renovate.json
          token: ${{ secrets.RENOVATE_TOKEN }}
        env:
          # 手動実行時のオプション
          LOG_LEVEL: ${{ github.event.inputs.log_level || 'info' }}
          RENOVATE_DRY_RUN: ${{ github.event.inputs.dry_run || 'false' }}
          # プラットフォーム設定
          RENOVATE_PLATFORM: github
          RENOVATE_REPOSITORIES: ${{ github.repository }}

