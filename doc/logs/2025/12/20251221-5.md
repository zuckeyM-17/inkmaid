# é–‹ç™ºãƒ­ã‚°: 2025-12-21 (5)

## æ¦‚è¦

Phase 2 ã®ç²¾åº¦å‘ä¸Šã¨ã—ã¦ã€ä»¥ä¸‹ã‚’å®Ÿè£…ï¼š
1. **AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½**ï¼ˆOpenAI / Google / Anthropicï¼‰
2. **Claude extended thinking å¯¾å¿œ**ï¼ˆæ€è€ƒéç¨‹ã®å¯è¦–åŒ–ï¼‰
3. **Mermaidã‚¨ãƒ©ãƒ¼è‡ªå‹•ä¿®æ­£æ©Ÿèƒ½**
4. **ãƒãƒ¼ãƒ‰ä½ç½®æƒ…å ±ã®æŠ½å‡ºã¨AIã¸ã®é€ä¿¡**ï¼ˆèªè­˜ç²¾åº¦å‘ä¸Šï¼‰
5. **Xå°ï¼ˆãƒãƒ„ï¼‰ã§ãƒãƒ¼ãƒ‰å‰Šé™¤æ©Ÿèƒ½**
6. **ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œ**ï¼ˆç”»åƒã§AIã«é€ä¿¡ â†’ æ‰‹æ›¸ãæ–‡å­—èªè­˜ï¼‰

---

## 1. AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 

```bash
pnpm add @ai-sdk/google @ai-sdk/anthropic --filter web
```

### ç’°å¢ƒå¤‰æ•°ã§åˆ‡ã‚Šæ›¿ãˆ

```bash
# apps/web/.env.local
AI_PROVIDER=anthropic  # "openai" | "google" | "anthropic"

# å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®APIã‚­ãƒ¼
OPENAI_API_KEY=sk-...
GOOGLE_GENERATIVE_AI_API_KEY=...
ANTHROPIC_API_KEY=sk-ant-...
```

### å®Ÿè£… (`ai.ts`)

```typescript
function getProvider() {
  return process.env.AI_PROVIDER ?? "anthropic";
}

function getModel() {
  const provider = getProvider();
  if (provider === "openai") return openai("gpt-4o-mini");
  if (provider === "google") return google("gemini-2.0-flash");
  return anthropic("claude-sonnet-4-20250514");
}
```

---

## 2. Claude Extended Thinking

Claudeã®APIã§ã€Œæ€è€ƒéç¨‹ã€ã‚’å‡ºåŠ›ã•ã›ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚

### è¨­å®š

```typescript
function getProviderOptions() {
  if (getProvider() === "anthropic") {
    return {
      anthropic: {
        thinking: {
          type: "enabled" as const,
          budgetTokens: 10000,
        },
      },
    };
  }
  return undefined;
}
```

### æ€è€ƒéç¨‹ã®æŠ½å‡º

```typescript
const thinkingProcess = result.reasoning
  ? result.reasoning.map((r) => ("text" in r ? r.text : "")).join("\n")
  : null;
```

### UIè¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– å‡¦ç†2ã¨å‡¦ç†3ã®é–“ã«åˆ†å²ã‚’è¿½åŠ ã—ã¾ã—ãŸ              â”‚
â”‚                                                     â”‚
â”‚ [ğŸ’­ æ€è€ƒéç¨‹ã‚’è¡¨ç¤º] â† ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®åˆ†æ:                                â”‚â”‚
â”‚ â”‚ - é–‹å§‹ç‚¹(450, 380)ã¯å‡¦ç†2ã®è¿‘ã...               â”‚â”‚
â”‚ â”‚ - ã²ã—å½¢ã®å½¢çŠ¶ã‚’æ¤œå‡º...                          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Mermaidã‚¨ãƒ©ãƒ¼è‡ªå‹•ä¿®æ­£

### æ–°ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: `ai.fixMermaidError`

Mermaidã‚³ãƒ¼ãƒ‰ã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’AIã§è‡ªå‹•ä¿®æ­£ã€‚

```typescript
z.object({
  brokenMermaidCode: z.string(),
  errorMessage: z.string(),
  retryCount: z.number().min(1).max(3),
})
```

### è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ãƒ•ãƒ­ãƒ¼

1. `MermaidPreview` ãŒãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
2. `onParseError` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ `page.tsx` ã«é€šçŸ¥
3. `fixMermaidError.mutate()` ã‚’å‘¼ã³å‡ºã—
4. ä¿®æ­£æˆåŠŸ â†’ Mermaidã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°
5. 3å›å¤±æ•— â†’ æ‰‹å‹•ä¿®æ­£ã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

---

## 4. ãƒãƒ¼ãƒ‰ä½ç½®æƒ…å ±ã®æŠ½å‡º â­ é‡è¦

### å•é¡Œ

ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®åº§æ¨™ã ã‘ã§ã¯ã€**ã©ã®ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹æ“ä½œã‹**AIãŒåˆ¤æ–­ã§ããªã„ã€‚

```
ä¾‹: ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯(x=500, y=350)
â†’ ã“ã‚Œã¯ã€Œå‡¦ç†1ã€ã¨ã€Œå‡¦ç†2ã€ã®ã©ã¡ã‚‰ã«é–¢é€£ï¼Ÿ
â†’ ãƒãƒ¼ãƒ‰ã®ä½ç½®ãŒã‚ã‹ã‚‰ãªã„ã¨åˆ¤æ–­ä¸å¯èƒ½
```

### è§£æ±ºç­–

Mermaidã®SVGã‹ã‚‰ãƒãƒ¼ãƒ‰ã®ä½ç½®æƒ…å ±ã‚’æŠ½å‡ºã—ã¦AIã«æ¸¡ã™ã€‚

### æ–°ã—ã„å‹ (`MermaidPreview.tsx`)

```typescript
export type NodePosition = {
  id: string;       // ãƒãƒ¼ãƒ‰IDï¼ˆMermaidã‚³ãƒ¼ãƒ‰å†…ã®è­˜åˆ¥å­ï¼‰
  label: string;    // ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ
  x: number;        // å·¦ä¸ŠXåº§æ¨™
  y: number;        // å·¦ä¸ŠYåº§æ¨™
  width: number;    // å¹…
  height: number;   // é«˜ã•
  centerX: number;  // ä¸­å¿ƒXåº§æ¨™
  centerY: number;  // ä¸­å¿ƒYåº§æ¨™
};
```

### ä½ç½®æŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯

```typescript
function extractNodePositions(svgElement, container): NodePosition[] {
  const nodeElements = svgElement.querySelectorAll(".node");
  // å„ãƒãƒ¼ãƒ‰ã®getBoundingClientRect()ã§ä½ç½®ã‚’å–å¾—
  // ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ç›¸å¯¾åº§æ¨™ã«å¤‰æ›
}
```

### AIã¸ã®é€ä¿¡å½¢å¼

```
## ç¾åœ¨ã®ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ä¸Šã®å„ãƒãƒ¼ãƒ‰ã®ä½ç½®ï¼ˆãƒ”ã‚¯ã‚»ãƒ«åº§æ¨™ï¼‰:
- ãƒãƒ¼ãƒ‰ã€Œé–‹å§‹ã€(ID: A): ä½ç½®=(480, 120), ã‚µã‚¤ã‚º=100x40, ä¸­å¿ƒ=(530, 140)
- ãƒãƒ¼ãƒ‰ã€Œå‡¦ç†1ã€(ID: B): ä½ç½®=(450, 220), ã‚µã‚¤ã‚º=120x50, ä¸­å¿ƒ=(510, 245)
- ãƒãƒ¼ãƒ‰ã€Œå‡¦ç†2ã€(ID: C): ä½ç½®=(450, 320), ã‚µã‚¤ã‚º=120x50, ä¸­å¿ƒ=(510, 345)

## æ‰‹æ›¸ãã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆ2å€‹ã®ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ï¼‰:
ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯1: é–‹å§‹=(510, 260), çµ‚äº†=(510, 310), é–‰ã˜ãŸå½¢çŠ¶=false
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ›´æ–°

```
## é‡è¦ï¼šãƒãƒ¼ãƒ‰ä½ç½®æƒ…å ±ã®æ´»ç”¨
- ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®åº§æ¨™ã¨æ—¢å­˜ãƒãƒ¼ãƒ‰ã®ä½ç½®ã‚’æ¯”è¼ƒã—ã¦ã€ã©ã®ãƒãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹æ“ä½œã‹ã‚’åˆ¤æ–­
- ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã®å§‹ç‚¹ãƒ»çµ‚ç‚¹ãŒã©ã®ãƒãƒ¼ãƒ‰ã«è¿‘ã„ã‹ã§ã€æ¥ç¶šé–¢ä¿‚ã‚’æ¨æ¸¬
```

---

## 5. Xå°ï¼ˆãƒãƒ„ï¼‰ã§ãƒãƒ¼ãƒ‰å‰Šé™¤æ©Ÿèƒ½

### æ¦‚è¦

ãƒãƒ¼ãƒ‰ã®ä¸Šã«ã€ŒXã€ã®å½¢ï¼ˆ2æœ¬ã®æ–œã‚ç·šï¼‰ã‚’æãã¨ã€ãã®ãƒãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹æ©Ÿèƒ½ã€‚

### Xå°æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ (`ai.ts`)

```typescript
const detectXMark = () => {
  // æœ€å¾Œã®2æœ¬ã®ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚’ãƒã‚§ãƒƒã‚¯
  const stroke1 = strokes[strokes.length - 2];
  const stroke2 = strokes[strokes.length - 1];
  
  // æ¡ä»¶:
  // - ä¸­å¿ƒãŒè¿‘ã„ï¼ˆ80pxä»¥å†…ï¼‰
  // - ã‚µã‚¤ã‚ºãŒä¼¼ã¦ã„ã‚‹ï¼ˆå·®ãŒ50%ä»¥å†…ï¼‰
  // - ä¸¡æ–¹ãŒæ–œã‚ç·šï¼ˆé–‹å§‹ç‚¹ã¨çµ‚äº†ç‚¹ã®X,YãŒä¸¡æ–¹å¤‰åŒ–ï¼‰
  
  if (isXShape) {
    // ã©ã®ãƒãƒ¼ãƒ‰ã®ä¸Šã«ã‚ã‚‹ã‹åˆ¤å®š
    for (const node of nodePositions) {
      if (xCenter in node's bounds) {
        return { targetNodeId: node.id };
      }
    }
  }
};
```

### AIã¸ã®æŒ‡ç¤º

```
## âš ï¸ Xå°ï¼ˆãƒãƒ„ï¼‰ã‚’æ¤œå‡ºã—ã¾ã—ãŸï¼
- Xå°ã®ä¸­å¿ƒåº§æ¨™: (510, 345)
- å¯¾è±¡ãƒãƒ¼ãƒ‰: ã€Œå‡¦ç†2ã€ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„

**é‡è¦**: Xå°ãŒæã‹ã‚ŒãŸãƒãƒ¼ãƒ‰ã¨ãã®æ¥ç¶šã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚
```

---

## 6. ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å¯¾å¿œï¼ˆç”»åƒã§AIé€ä¿¡ï¼‰â­ é‡è¦

### å•é¡Œ

åº§æ¨™ãƒ‡ãƒ¼ã‚¿ã ã‘ã§ã¯**æ‰‹æ›¸ãæ–‡å­—**ã‚’èªè­˜ã§ããªã„ã€‚

```
åº§æ¨™: [(100,100), (120,80), (140,100), ...]
â†“
AI: ã€Œã‚¸ã‚°ã‚¶ã‚°ã®ç·šï¼Ÿã€
â†“
å®Ÿéš›ã¯ã€Œèªè¨¼ã€ã¨ã„ã†æ–‡å­—ã‚’æ›¸ã„ã¦ã„ãŸ ğŸ˜…
```

### è§£æ±ºç­–

Mermaid SVG + æ‰‹æ›¸ãã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚’åˆæˆã—ãŸ**ç”»åƒ**ã‚’AIã«é€ä¿¡ã€‚

### å®Ÿè£…

#### 1. ã‚­ãƒ£ãƒ³ãƒã‚¹ç”»åƒç”Ÿæˆ (`DiagramCanvas.tsx`)

```typescript
const generateCanvasImage = async (): Promise<string | null> => {
  // Canvasã‚’ä½œæˆ
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  
  // ç™½èƒŒæ™¯
  ctx.fillStyle = "white";
  ctx.fillRect(0, 0, width, height);
  
  // SVGã‚’Base64 Data URLã«å¤‰æ›ï¼ˆTainted Canvaså•é¡Œã‚’å›é¿ï¼‰
  const svgData = new XMLSerializer().serializeToString(svgElement);
  const svgBase64 = btoa(unescape(encodeURIComponent(svgData)));
  const svgDataUrl = `data:image/svg+xml;base64,${svgBase64}`;
  
  // SVGã‚’æç”»
  const img = new Image();
  img.src = svgDataUrl;
  ctx.drawImage(img, ...);
  
  // ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚’æç”»
  for (const stroke of strokes) {
    ctx.strokeStyle = stroke.color;
    ctx.beginPath();
    ctx.moveTo(points[0], points[1]);
    // ...
    ctx.stroke();
  }
  
  return canvas.toDataURL("image/png");
};
```

#### 2. ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (`ai.ts`)

```typescript
const messageContent = [];

// ç”»åƒã‚’å…ˆã«è¿½åŠ 
if (canvasImage) {
  messageContent.push({
    type: "image",
    image: canvasImage, // Base64 data URL
  });
}

// ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ 
messageContent.push({
  type: "text",
  text: `ä¸Šã®ç”»åƒã¯ç¾åœ¨ã®ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã«æ‰‹æ›¸ãã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ï¼ˆç´«è‰²ã®ç·šï¼‰ã‚’é‡ã­ãŸã‚‚ã®ã§ã™ã€‚
  æ‰‹æ›¸ãã®å†…å®¹ã‚’è§£é‡ˆã—ã¦ã€ãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
  - æ‰‹æ›¸ãã§æ›¸ã‹ã‚ŒãŸæ–‡å­—ãŒã‚ã‚Œã°èª­ã¿å–ã£ã¦ãã ã•ã„
  ...`
});

const result = await generateText({
  model: getModel(),
  messages: [{ role: "user", content: messageContent }],
});
```

### Tainted Canvaså•é¡Œã®è§£æ±º

**ã‚¨ãƒ©ãƒ¼**: `SecurityError: Tainted canvases may not be exported`

**åŸå› **: ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³ã®Blob URLã‚’ä½¿ã†ã¨Canvasæ±šæŸ“ãŒç™ºç”Ÿ

**è§£æ±º**: SVGã‚’Base64 Data URLã«å¤‰æ›ã—ã¦ã‹ã‚‰èª­ã¿è¾¼ã‚€

```typescript
// âŒ NG: Blob URL
const svgBlob = new Blob([svgData], { type: "image/svg+xml" });
const svgUrl = URL.createObjectURL(svgBlob);

// âœ… OK: Base64 Data URL
const svgBase64 = btoa(unescape(encodeURIComponent(svgData)));
const svgDataUrl = `data:image/svg+xml;base64,${svgBase64}`;
```

### ã“ã‚Œã§å¯èƒ½ã«ãªã‚‹ã“ã¨

- âœ… **æ‰‹æ›¸ãæ–‡å­—ã®èªè­˜**ï¼ˆã€Œå‡¦ç†Aã€ã€Œèªè¨¼ã€ãªã©ã‚’èª­ã¿å–ã‚Šï¼‰
- âœ… **å›³å½¢ã®è¦–è¦šçš„èªè­˜**ï¼ˆåº§æ¨™ãƒ‡ãƒ¼ã‚¿ã‚ˆã‚Šæ­£ç¢ºï¼‰
- âœ… **Xå°ã®è¦–è¦šçš„æ¤œå‡º**
- âœ… **ãƒãƒ¼ãƒ‰é–“ã®çŸ¢å°ã®èªè­˜**

---

## 7. å¤‰æ›´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«

```
apps/web/
â”œâ”€â”€ package.json                      # @ai-sdk/google, @ai-sdk/anthropic è¿½åŠ 
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ page.tsx                  # æ€è€ƒéç¨‹è¡¨ç¤ºã€ã‚¨ãƒ©ãƒ¼è‡ªå‹•ä¿®æ­£ã€ãƒãƒ¼ãƒ‰ä½ç½®é€ä¿¡ã€ç”»åƒé€ä¿¡
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ DiagramCanvas.tsx         # ConvertWithAIDataå‹ã€ãƒãƒ¼ãƒ‰ä½ç½®ç®¡ç†ã€generateCanvasImage()
â”‚   â”‚   â”œâ”€â”€ HandwritingCanvas.tsx     # toDataURL()ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
â”‚   â”‚   â””â”€â”€ MermaidPreview.tsx        # NodePositionå‹ã€extractNodePositions()
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ trpc/
â”‚           â””â”€â”€ routers/
â”‚               â””â”€â”€ ai.ts             # getModel(), fixMermaidError, nodePositionså¯¾å¿œ
â”‚                                     # Xå°æ¤œå‡ºã€ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯¾å¿œ
```

---

## 6. ç’°å¢ƒå¤‰æ•°ã¾ã¨ã‚

```bash
# apps/web/.env.local

# å¿…é ˆ
DATABASE_URL="postgresql://inkmaid:inkmaid_password@localhost:5432/inkmaid"

# AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆã„ãšã‚Œã‹1ã¤è¨­å®šï¼‰
AI_PROVIDER=anthropic

# APIã‚­ãƒ¼ï¼ˆä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ã‚‚ã®ã‚’è¨­å®šï¼‰
ANTHROPIC_API_KEY=sk-ant-...
# OPENAI_API_KEY=sk-...
# GOOGLE_GENERATIVE_AI_API_KEY=...
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å„ªå…ˆåº¦é«˜
- [ ] **flowchartä»¥å¤–ã®å›³ã«å¯¾å¿œ**ï¼ˆsequence, ER, class, state ãªã©ï¼‰
  - æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«ç¨®é¡ã‚’é¸æŠå¯èƒ½ã«
  - ç¨®é¡ã«å¿œã˜ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
- [ ] **AIæ€è€ƒãƒ­ã‚°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º**
  - å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤º
  - æ¨è«–éç¨‹ã‚’å¯è¦–åŒ–ã—ã¦ãƒ‡ãƒãƒƒã‚°ã—ã‚„ã™ã
- [ ] **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†æ©Ÿèƒ½**
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‰Šé™¤ãƒ»åå‰å¤‰æ›´

### ä¸­å„ªå…ˆåº¦
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´é¡ã‚Š
- [ ] è‰²ãƒ»å¤ªã•é¸æŠã®UIãƒ„ãƒ¼ãƒ«ãƒãƒ¼
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ã®ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ™ãƒ«UI
- [ ] å›²ã¿ç·šã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆsubgraphï¼‰
- [ ] çŸ¢å°ã®å‘ãã®èªè­˜æ”¹å–„

### ä½å„ªå…ˆåº¦
- [ ] ãƒ‡ãƒãƒƒã‚°æƒ…å ±ãƒ‘ãƒãƒ«ã®å‰Šé™¤ï¼ˆé–‹ç™ºå®Œäº†å¾Œï¼‰

### å®Œäº†æ¸ˆã¿
- [x] ~~ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯èªè­˜ã®ç²¾åº¦å‘ä¸Šï¼ˆç”»åƒã¨ã—ã¦ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ã§é€ä¿¡ï¼‰~~ âœ…
- [x] ~~ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼èªè­˜ï¼ˆXå°ã§å‰Šé™¤ãªã©ï¼‰~~ âœ…
- [x] ~~ChatPanelã®å‰Šé™¤ï¼ˆæ‰‹æ›¸ããƒ¡ã‚¤ãƒ³ã«ç§»è¡Œï¼‰~~ âœ…

---

## å‚è€ƒ

- è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: `doc/develop.md`
- å‰å›ã®ãƒ­ã‚°: `doc/logs/20251221-4.md`

