# 📋 TODO - 次やること

> 最終更新: 2025-12-28（タッチデバイス対応：範囲選択問題の修正とピンチズーム対応）

---

## 🔴 優先度高


### 開発体験（DX）の改善
- [x] ~~Claude Code用ドキュメントの作成~~ ✅
- [x] ~~カスタムスラッシュコマンドの作成~~ ✅
- [x] ~~Git Hooksの導入（Husky + lint-staged）~~ ✅ (2025-12-23)
- [x] ~~VS Code拡張機能の推奨設定（`.vscode/extensions.json`）~~ ✅ (2025-12-23)
- [x] ~~VS Code設定の統一（`.vscode/settings.json`）~~ ✅ (2025-12-23)

### コード品質の向上
- [x] ~~TypeScript設定の厳格化（`noUncheckedIndexedAccess`、`noImplicitReturns`など）~~ ✅ (2025-12-23)
- [x] ~~CIの型チェックエラー修正（配列アクセス時のundefinedチェック）~~ ✅ (2025-12-27)

### AI精度の向上
- [ ] ノード数が多くなった際のフローチャートのmermaid作成精度向上
  - [ ] ノード名が想定と違うものになってしまう問題を解消
  - [ ] 作成予定のノードが作成されない問題を解消
  - [ ] subgraphとノードを混同してしまう問題を解消

---

## 🟡 中優先度

### バージョン履歴機能
- [x] ~~プロジェクトのバージョン履歴一覧表示~~ ✅ (2025-12-22)
- [x] ~~過去のバージョンへのロールバック機能~~ ✅ (2025-12-22)
- [x] ~~バージョン選択時のプレビュー機能~~ ✅ (2025-12-23)

### キャンバス操作のさらなる改善
- [ ] 囲み線でグループ化（subgraph対応）
- [ ] 矢印の向きの認識精度改善
- [x] ~~タッチデバイスでのピンチズーム対応~~ ✅ (2025-12-28)

### セキュリティ強化
- [ ] 環境変数の厳格な管理（Zodバリデーション）
- [ ] レート制限の実装（APIエンドポイント）
- [ ] CSP（Content Security Policy）の設定
- [ ] 依存関係の脆弱性スキャン（定期実行）

### テスト戦略の強化
- [ ] コードカバレッジの目標設定（80%以上）
- [ ] ユニットテストコードの拡充

### コードレビュー
- [ ] PRテンプレートの作成（`.github/pull_request_template.md`）

---

## 🟢 低優先度（将来的に実施）

### ドキュメントの充実
- [ ] Storybookの導入（コンポーネントカタログ）
- [ ] APIドキュメントの自動生成（tRPC OpenAPI出力）
- [ ] アーキテクチャ図の作成（Mermaid）

### ユーザビリティの改善
- [ ] アクセシビリティ対応（WAI-ARIA、キーボード操作）
- [ ] 国際化（i18n）対応（next-intl）
- [ ] Progressive Web App (PWA)対応（next-pwa）

---

## 🟢 完了済み

### 機能実装
- [x] ~~キャンバスのズームイン・ズームアウト~~ ✅ (2025-12-22)
- [x] ~~キャンバスの移動（パン操作）~~ ✅ (2025-12-22)
- [x] ~~Mermaidレイヤーと手書きレイヤーのズーム・パン連動~~ ✅ (2025-12-22)
- [x] ~~プロジェクトの名前変更機能~~ ✅ (2025-12-22)
- [x] ~~プロジェクトのアーカイブ/復元機能~~ ✅ (2025-12-22)
- [x] ~~プロジェクトごとのURL（`/projects/[id]`）~~ ✅ (2025-12-22)
- [x] ~~AI思考ログをリアルタイム表示~~ ✅ (2025-12-22)
- [x] ~~flowchart以外の図に対応~~ ✅
- [x] ~~サイドバーで図の種類を表示~~ ✅
- [x] ~~ストローク認識の精度向上（画像としてマルチモーダルで送信）~~ ✅
- [x] ~~ジェスチャー認識（X印で削除など）~~ ✅
- [x] ~~大量ストローク処理の多段階処理実装~~ ✅ (2025-12-28)
- [x] ~~ストロークデータの簡略化機能~~ ✅ (2025-12-28)
- [x] ~~パネルの閉じるボタン実装~~ ✅ (2025-12-28)
- [x] ~~タッチデバイスでの範囲選択問題の修正~~ ✅ (2025-12-28)
- [x] ~~タッチデバイスでのピンチズーム対応~~ ✅ (2025-12-28)

### 開発環境
- [x] ~~Claude Code用ドキュメントの作成~~ ✅
- [x] ~~カスタムスラッシュコマンドの作成~~ ✅
- [x] ~~CIの型チェックエラー修正~~ ✅ (2025-12-27)

---

## 📚 参考

- 設計ドキュメント: [doc/develop.md](./develop.md)
- 開発ログ: [doc/logs/](./logs/)
- 改善提案: [.claude/IMPROVEMENTS.md](../.claude/IMPROVEMENTS.md)
